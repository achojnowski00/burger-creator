import{j as e,c as i,u as x,r as j,R as l,M as v}from"./index-30602f84.js";import{A as h}from"./AppHeader-ba6ed043.js";const N="/burger-creator/assets/plus-icon-4ffdced5.svg",_="/burger-creator/assets/minus-icon-d2948dcc.svg";const f=({className:r,count:n,title:t,imgUrl:s,onAdd:a,onRemove:o})=>e.jsxs("div",{className:i("ingredient-input",r),children:[e.jsxs("div",{className:"ingredient-input__header",children:[e.jsx("button",{onClick:o,className:"ingredient-input__button ingredient-input__button--red",children:e.jsx("img",{src:_,alt:"Remove"})}),e.jsx("div",{children:n}),e.jsx("button",{onClick:a,className:"ingredient-input__button ingredient-input__button--green",children:e.jsx("img",{src:N,alt:"Remove"})})]}),e.jsx("div",{className:"ingredient-input__image",children:e.jsx("img",{src:s,alt:t})}),e.jsx("div",{className:"ingredient-input__title",children:t})]});const C=()=>{const{ingridientsState:r,onAddIngridient:n,onRemoveIngridient:t}=x(),s=j.useCallback(o=>()=>{n(o)},[n]),a=j.useCallback(o=>()=>{t(o)},[t]);return e.jsx("div",{className:"controll-panel",children:r.map(o=>{const{name:c,count:u,url:m,alternativeUrl:d}=o;return e.jsx(f,{className:"controll-panel__ingredient-input",count:u,title:c,imgUrl:d||m,onAdd:s(o),onRemove:a(o)},c)})})};function I(){const{onResetBurger:r,burgerState:n,error:t}=x(),[s,a]=l.useState(""),[o,c]=l.useState(""),[u,m]=l.useState("");l.useEffect(()=>{(n.length>0||t!=null&&t.length)&&u!==""&&m("")},[n,t,u]);const d=l.useCallback(g=>{c(""),a(g.target.value)},[a]),b=l.useCallback(g=>{if(g.preventDefault(),s.trim()===""){c("Burger name cannot be empty");return}a(""),m("Burger saved successfully"),console.log("Save burger",s),r()},[s,r]);return{inputValue:s,successMessage:u,formError:o,onInputChange:d,onSubmit:b}}const p=({text:r,className:n,type:t="ERROR"})=>e.jsx("p",{className:i("app-info",`app-info--${t.toLocaleLowerCase()}`,n),children:r});const B=({value:r,onChange:n,className:t,placeholder:s,disabled:a})=>e.jsx("input",{className:i("app-input",t),type:"text",value:r,placeholder:s,disabled:a,onChange:n});const S=({className:r,disabled:n,text:t,onClick:s})=>e.jsx("button",{className:i("app-button",r),onClick:s,disabled:n,children:t});const R=({className:r,onChange:n,formError:t,value:s,onSubmit:a})=>e.jsxs("form",{className:i("burger-name-form",r),action:"submit",onSubmit:a,children:[e.jsx(B,{className:"burger-name-form__input",value:s,onChange:n,placeholder:"input space"}),t&&e.jsx(p,{text:t}),e.jsx(S,{text:"save"})]}),A=({className:r,burger:n})=>e.jsx("div",{className:i("burger-construction",r),children:n.map(({url:t,name:s,additionalStyles:a},o)=>e.jsx("div",{className:"burger__ingridient",style:{...a,zIndex:v-o},children:e.jsx("img",{src:t,alt:"burger"})},`${s}_${o}`))});const y=({className:r,isCompleted:n,burger:t,burgerError:s,formError:a,inputValue:o,successMessage:c,onInputChange:u,onSubmit:m})=>e.jsxs("div",{className:i("burger",r),children:[e.jsx(h,{text:"Your Burger"}),s&&!c&&e.jsx(p,{text:s}),c&&e.jsx(p,{type:"SUCCESS",text:c}),t.length===0&&!c&&!s&&e.jsx(p,{type:"INFO",text:"Add items to create your burger. First item must be bottom bun. To finish your burger choose top bun"}),e.jsx(A,{burger:t}),n&&e.jsx(R,{formError:a,value:o,onChange:u,onSubmit:m})]}),E=({className:r})=>{const{burgerState:n,error:t}=x(),s=I(),a=l.useMemo(()=>n.some(o=>o.isTop),[n]);return e.jsx(y,{className:r,isCompleted:a,burger:n,burgerError:t,...s})};const F=({className:r,children:n,maxWidth:t=1920})=>{const s={maxWidth:t};return e.jsx("div",{style:s,className:i("max-width-content-wrapper",r),children:n})};const k=()=>e.jsx("div",{className:"home-page",children:e.jsxs(F,{maxWidth:1280,children:[e.jsx(h,{text:"Burger Creator",className:"home-page__header"}),e.jsxs("div",{className:"home-page__creator",children:[e.jsx(C,{}),e.jsx(E,{})]})]})}),M=k;export{M as default};
